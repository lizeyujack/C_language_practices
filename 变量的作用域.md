# 变量的作用以及生命周期
> THINK CHANGE DO

变量的作用域：变量能被访问的范围
变量的生命周期：变量的分配，被回收

局部变量的（在函数内部声明的变量）的作用域
局部变量只能在当前函数访问
#### coding:
```c
#include<stdio.h>
int func();
int func()
{
    int a = 3;
    printf("a = %d\n",a);
    return a;
}
int main()
{
    int a = 5;
    printf("%d\n",func());
    printf("%d\n",a);
    return 0;
}
```
```bash
PS D:\Learn\C++学习\github\C_language_practices> cd "d:\Learn\C++学习\github\C_language_practices\" ; if ($?) { gcc tempCodeRunnerFile.c -o tempCodeRunnerFile } ; if ($?) { .\tempCodeRunnerFile }
a = 3
3
5
```

* 在大括号中定义变量的时候  作用域就在这个大括号中有效。
* 局部变量的生命周期： auto int a  = 0; ```auto```用完之后自动回收
* 全局变量的作用域为整个程序 （当前程序）
         生命周期，从程序开始 到程序结束
         如何声明  是全局的呢？  --只要不写在函数(包含main函数)里面的，就是全局变量。


* 全局变量的变量名和局部变量可以同名吗？  可以.. 存在同名遮盖的原来（就近原则）
* 全局变量可以和函数名同名吗？ 不可以.. 有可能出现错误 
* 因此全局变量可能会对程序的命名进行污染，使程序的复用性降低。
        尽量减少对全局变量的使用。
## 静态变量
### 普通局部变量的例子：
```c
#include<stdio.h>
void func()
{
    int i = 0;
    i++;
    printf("该函数被调用了%d次\n",i);
}
int main()
{
    func();
    func();
    func();
    func();
    return 0;
}
```
Output:
```bash
PS D:\Learn\C++学习\github\C_language_practices> cd "d:\Learn\C++学习\github\C_language_practices\" ; if ($?) { gcc tempCodeRunnerFile.c -o tempCodeRunnerFile } ; if ($?) { .\tempCodeRunnerFile }
该函数被调用了1次
该函数被调用了1次
该函数被调用了1次
该函数被调用了1次
```
*可通过全局变量进行操作~   但不推荐*
- 如何声明静态变量？  声明之前面加一个static关键字如: ```static int i = 0;```
- 静态变量的作用域 限定在当前代码块（局部变量的特性）
- 生命周期为整个程序结束（全局变量的特性）
### 静态变量的例子：
```c
#include<stdio.h>
int i = 0;
void func()
{
    static int i = 0;
    i++;
    printf("该函数被调用了%d次\n",i);
    printf("静态变量i的地址为： %p\n",&i);
}
int main()
{
    func();//1
    func();//2
    func();//3
    func();//4
    return 0;
}
```
output:
```bash
PS D:\Learn\C++学习\github\C_language_practices> cd "d:\Learn\C++学习\github\C_language_practices\" ; if ($?) { gcc tempCodeRunnerFile.c -o tempCodeRunnerFile } ; if ($?) { .\tempCodeRunnerFile }
该函数被调用了1次
静态变量i的地址为： 00407024
该函数被调用了2次
静态变量i的地址为： 00407024
该函数被调用了3次
静态变量i的地址为： 00407024
该函数被调用了4次
静态变量i的地址为： 00407024
```